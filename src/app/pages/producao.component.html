<div class="p-grid">
  <div class="p-col-12">
    <p-toast></p-toast>

    <div class="card">
        <p-table [value]="producoes">
          <ng-template pTemplate="caption">
              <button pButton label="Incluir" icon="pi pi-plus" class="p-button p-mt-2" (click)="novo()"></button>
          </ng-template>
          <ng-template pTemplate="header">
              <tr>
                  <th>Código</th>
                  <th>Nome</th>
                  <th>Produção</th>
                  <th></th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-producao>
              <tr>
                  <td>{{producao.codigo}}</td>
                  <td>{{producao.nome}}</td>
                  <td>{{producao.quantidade}}</td>
                  <td>
                    <button pButton icon="pi pi-pencil" class="p-button-rounded p-button p-mr-2" (click)="edit(producao)"></button>
                    <button pButton icon="pi pi-trash" class="p-button-rounded p-button" (click)="delete(producao)"></button>
                  </td>
              </tr>
          </ng-template>
      </p-table>
    </div>

    <p-dialog [(visible)]="dialogProducao" header="Produção" [modal]="true" styleClass="p-fluid">
      <ng-template pTemplate="content">
        <div class="p-field">
          <label for="nome">Nome</label>
          <input type="text" pInputText id="nome" [(ngModel)]="producao.nome" required>
        </div>
        <div class="p-field">
          <label for="quantidade">Quantidade</label>
          <input type="text" pInputText id="quantidade" [(ngModel)]="producao.quantidade" required>
        </div>
        <div class="p-field">
          <label for="talhao">Talhão</label>
          <p-dropdown [options]="talhoes" [(ngModel)]="producao.talhao" optionLabel="nome" appendTo="body"
            placeholder="Selecione um Talhão"></p-dropdown>
        </div>
      </ng-template>
      <ng-template pTemplate="footer">
        <button pButton label="CANCELAR" icon="pi pi-times" class="p-button-text" (click)="ocultarDialogProducao()"></button>
        <button pButton label="SALVAR" icon="pi pi-check" class="p-button-success" (click)="salvar(producao)"></button>
      </ng-template>
    </p-dialog>

    <p-confirmDialog #cd [style]="{width: '450px'}">
      <p-footer>
        <button pButton icon="pi pi-times" label="NÃO" class="p-button-text" (click)="cd.reject()"></button>
        <button pButton icon="pi pi-check" label="SIM" class="p-button-success" (click)="cd.accept()"></button>
      </p-footer>
    </p-confirmDialog>

  </div>
</div>


